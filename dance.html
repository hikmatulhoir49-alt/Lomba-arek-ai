<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Buku Pengingat — Professional UI</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #f6f9fc;
      --card: #ffffff;
      --primary: #0f4c81;
      --primary-2: #2b7bb9;
      --muted: #6b7c93;
      --soft: #eef6ff;
      --danger: #e05a5a;
      --radius: 10px;
      --shadow: 0 8px 20px rgba(11,35,66,0.06);
      font-family: "Inter", system-ui;
    }

    * { box-sizing: border-box; }
    body {
      margin:0;
      min-height:100vh;
      background: linear-gradient(180deg, var(--bg), #eef6ff 70%);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      font-size:15px;
      color:#0b2438;
    }

    .container {
      width:100%;
      max-width:1000px;
      display:grid;
      grid-template-columns:420px 1fr;
      gap:24px;
    }

    .card {
      background:var(--card);
      border-radius:var(--radius);
      padding:20px;
      box-shadow:var(--shadow);
      border: 1px solid rgba(15,76,129,0.06);
    }

    .brand {
      display:flex;
      gap:12px;
      align-items:center;
      margin-bottom:8px;
    }
    .brand .logo {
      width:52px;height:52px;border-radius:10px;
      background:linear-gradient(135deg,var(--primary),var(--primary-2));
      color:white;font-weight:700;font-size:18px;
      display:flex;align-items:center;justify-content:center;
    }
    .brand h1 {
      margin:0;font-size:18px;color:var(--primary);
    }
    .brand p { margin:0;font-size:13px;color:var(--muted); }

    label {
      margin-top:12px;
      font-size:13px;
      color:var(--muted);
      display:block;
      margin-bottom:6px;
    }

    input[type="text"] {
      width:100%;
      padding:12px 14px;
      border-radius:8px;
      border:1px solid rgba(11,35,66,0.07);
      background:#ffffff;
      font-size:14px;
      outline:none;
      transition:.15s;
    }
    input[type="text"]:focus {
      border-color:var(--primary-2);
      box-shadow:0 8px 20px rgba(43,123,185,0.10);
    }

    .actions {
      display:flex;
      gap:10px;
      margin-top:16px;
      align-items:center;
    }

    .btn {
      padding:10px 14px;
      border:none;
      border-radius:8px;
      background:var(--primary);
      color:white;
      cursor:pointer;
      font-weight:600;
      transition:.12s;
      box-shadow:0 6px 18px rgba(15,76,129,0.12);
    }
    .btn:hover {
      transform:translateY(-3px);
      box-shadow:0 12px 22px rgba(15,76,129,0.18);
    }

    .ghost {
      background:transparent;
      color:var(--primary);
      border:1px solid rgba(15,76,129,0.15);
      box-shadow:none;
    }

    .badge {
      margin-left:auto;
      padding:8px 12px;
      background:var(--soft);
      border-radius:8px;
      color:var(--primary);
      border:1px solid rgba(43,123,185,0.06);
      font-weight:700;
      font-size:13px;
    }

    .summary { display:flex; flex-direction:column; gap:16px; }

    h3 { margin:0;color:var(--primary);font-size:17px; }
    .meta { color:var(--muted); font-size:13px; }

    .book {
      background:#fff;
      border:1px solid rgba(11,35,66,0.06);
      border-radius:10px;
      padding:16px;
    }

    .list { margin-top:12px; display:flex; flex-direction:column; gap:10px; }
    .item {
      padding:10px 12px;
      background:#fff;
      border-radius:8px;
      border:1px solid rgba(11,35,66,0.05);
      display:flex; justify-content:space-between;
    }
    .name { font-weight:600; }
    .delete {
      background:var(--danger);
      color:white;
      padding:8px 10px;
      border:none;
      border-radius:8px;
      cursor:pointer;
      font-weight:600;
    }

    .empty {
      padding:18px;
      color:var(--muted);
      border:1px dashed rgba(43,123,185,0.15);
      border-radius:10px;
      text-align:center;
    }

    @media(max-width:900px){
      .container { grid-template-columns:1fr; }
    }
  </style>
</head>
<body>

  <div class="container">
    <!-- Left Panel -->
    <div class="card">
      <div class="brand">
        <div class="logo">BP</div>
        <div>
          <h1>Buku Pengingat</h1>
          <p>Aplikasi Pengingat Barang — tampilan profesional</p>
        </div>
      </div>

      <label>Hari</label>
      <input id="hari" type="text" placeholder="Contoh: Jumat">

      <label>Tanggal</label>
      <input id="tanggal" type="text" placeholder="Contoh: 21 November 2025">

      <label>Barang yang harus dibawa</label>
      <input id="barangInput" type="text" placeholder="Contoh: Buku Matematika">

      <div class="actions">
        <button class="btn" id="addBtn">Tambah</button>
        <button class="btn ghost" id="clearBtn">Bersihkan</button>
        <div class="badge" id="countBadge">0 item</div>
      </div>
    </div>

    <!-- Right Panel -->
    <div class="summary">
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <h3>Ringkasan</h3>
          <div class="meta">Status: <strong id="statusText">Kosong</strong></div>
        </div>

        <div style="margin-top:10px;">
          <div><strong>Hari:</strong> <span id="viewHari">-</span></div>
          <div style="margin-top:6px;"><strong>Tanggal:</strong> <span id="viewTanggal">-</span></div>
          <div style="margin-top:10px;"><strong>Daftar Barang:</strong></div>
          <div id="bagList" style="margin-top:6px;"></div>
        </div>

        <div class="list" id="listArea">
          <div class="empty" id="emptyHint">Belum ada barang.</div>
        </div>
      </div>
    </div>
  </div>


  <script>
    /* ====== LOGIC ====== */

    const STORAGE_KEY = 'bukuPengingat_prof_v2';

    const addBtn = document.getElementById('addBtn');
    const clearBtn = document.getElementById('clearBtn');
    const barangInput = document.getElementById('barangInput');
    const hariInput = document.getElementById('hari');
    const tanggalInput = document.getElementById('tanggal');

    const listArea = document.getElementById('listArea');
    const emptyHint = document.getElementById('emptyHint');
    const countBadge = document.getElementById('countBadge');
    const bagList = document.getElementById('bagList');
    const viewHari = document.getElementById('viewHari');
    const viewTanggal = document.getElementById('viewTanggal');
    const statusText = document.getElementById('statusText');

    let state = { hari:"", tanggal:"", items:[] };

    // Notifikasi
    if ("Notification" in window && Notification.permission !== "granted") {
        Notification.requestPermission();
    }

    function loadState(){
      const raw = localStorage.getItem(STORAGE_KEY);
      if(raw){
        state = JSON.parse(raw);
        hariInput.value = state.hari;
        tanggalInput.value = state.tanggal;
      }
      render();
    }

    function saveState(){
      state.hari = hariInput.value;
      state.tanggal = tanggalInput.value;
      localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
    }

    function render(){
      listArea.innerHTML = "";

      // kosong
      if(state.items.length === 0){
        listArea.appendChild(emptyHint);
        emptyHint.style.display = "block";
        bagList.innerHTML = "";
        viewHari.innerText = state.hari || "-";
        viewTanggal.innerText = state.tanggal || "-";
        statusText.innerText = "Kosong";
        countBadge.innerText = "0 item";
        return;
      }

      emptyHint.style.display = "none";
      countBadge.innerText = state.items.length + " item";
      statusText.innerText = "Aktif";

      // tampilkan item
      state.items.forEach((it,idx)=>{
        const item = document.createElement("div");
        item.className = "item";
        item.innerHTML = `
          <div>
            <div class="name">${it}</div>
            <div class="meta">#${idx+1}</div>
          </div>
          <button class="delete" data-idx="${idx}">Hapus</button>
        `;
        listArea.appendChild(item);
      });

      viewHari.innerText = state.hari || "-";
      viewTanggal.innerText = state.tanggal || "-";
      bagList.innerHTML = state.items.map(i => "• " + i).join("<br>");
    }

    // Tambah barang
    addBtn.addEventListener('click', ()=>{
      const h = hariInput.value.trim();
      const t = tanggalInput.value.trim();
      const b = barangInput.value.trim();

      if(!h || !t){
        alert("Isi Hari dan Tanggal terlebih dahulu.");
        return;
      }
      if(!b){
        alert("Isi nama barang.");
        return;
      }

      state.items.push(b);
      barangInput.value = "";
      saveState();
      render();

      if(Notification.permission === "granted"){
        new Notification("Pengingat Baru", { body:`${b} - ${h}, ${t}` });
      }
    });

    // Hapus item (delegation)
    listArea.addEventListener("click", e=>{
      const btn = e.target.closest(".delete");
      if(!btn) return;

      const idx = Number(btn.dataset.idx);
      state.items.splice(idx,1);
      saveState();
      render();
    });

    // *** PERBAIKAN DI SINI ***
    clearBtn.addEventListener("click", ()=>{
      if(!confirm("Hapus semua data?")) return;

      state.items = [];
      state.hari = "";
      state.tanggal = "";

      hariInput.value = "";
      tanggalInput.value = "";

      saveState();
      render();
    });

    hariInput.addEventListener("input", saveState);
    tanggalInput.addEventListener("input", saveState);

    loadState();
  </script>

</body>
</html>
